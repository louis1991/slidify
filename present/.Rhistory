library(INLA)
data(Munich)
g <- system.file("demodata/munich.graph", package="INLA")
formula <- rent ~ f(location, model = "besag", graph.file = g,
param = c(1,0.001)) +
f(year, model="crw2", values = seq(1918,2001), param = c(1,0.001)) +
f(floor.size, model = "crw2", param = c(1,0.001)) +
Gute.Wohnlage + Beste.Wohnlage + Keine.Wwv + Keine.Zh +
Kein.Badkach + Besond.Bad + Gehobene.Kueche +
zim1 + zim2 + zim3 + zim4 + zim5 + zim6 -1
mod <- inla(formula, data = Munich, verbose = T, family = "laplace",
control.family =list(alpha = 0.5, gamma = 2, epsilon = 0.01),
control.predictor = list(initial = 12),
control.inla = list(h = 1e-3))
summary(mod)
mod <- inla(formula, data = Munich, verbose = T, family = "gaussian",
control.family =list(alpha = 0.5, gamma = 2, epsilon = 0.01),
control.predictor = list(initial = 12),
control.inla = list(h = 1e-3))
summary(mod)
help(ggplot2)
help(boot)
library(ggplot2)
help(ggplot2)
library(INLA)
data(Munich)
g <- system.file("demodata/munich.graph", package="INLA")
formula <- rent ~ f(location, model = "besag", graph.file = g,
param = c(1,0.001)) +
f(year, model="crw2", values = seq(1918,2001), param = c(1,0.001)) +
f(floor.size, model = "crw2", param = c(1,0.001)) +
Gute.Wohnlage + Beste.Wohnlage + Keine.Wwv + Keine.Zh +
Kein.Badkach + Besond.Bad + Gehobene.Kueche +
zim1 + zim2 + zim3 + zim4 + zim5 + zim6 -1
mod <- inla(formula, data = Munich, verbose = T, family = "laplace",
control.family =list(alpha = 0.5, gamma = 2, epsilon = 0.01),
control.predictor = list(initial = 12),
control.inla = list(h = 1e-3))
summary(mod)
library(INLA)
data(Munich)
g <- system.file("demodata/munich.graph", package="INLA")
formula <- rent ~ f(location, model = "besag", graph.file = g,
param = c(1,0.001)) +
f(year, model="crw2", values = seq(1918,2001), param = c(1,0.001)) +
f(floor.size, model = "crw2", param = c(1,0.001)) +
Gute.Wohnlage + Beste.Wohnlage + Keine.Wwv + Keine.Zh +
Kein.Badkach + Besond.Bad + Gehobene.Kueche +
zim1 + zim2 + zim3 + zim4 + zim5 + zim6 -1
mod <- inla(formula, data = Munich, verbose = T, family = "gaussian",
control.family =list(alpha = 0.5, gamma = 2, epsilon = 0.01),
control.predictor = list(initial = 12),
control.inla = list(h = 1e-3))
summary(mod)
mod <- inla(formula, data = Munich, verbose = T, family = "laplace",
control.family =list(alpha = 0.5, gamma = 2, epsilon = 0.01),
control.predictor = list(initial = 12),
control.inla = list(h = 1e-3))
INLA:::inla.get.inlaEnv(enable.model.likelihood.laplace=T)
mod <- inla(formula, data = Munich, verbose = T, family = "laplace",
control.family =list(alpha = 0.5, gamma = 2, epsilon = 0.01),
control.predictor = list(initial = 12),
control.inla = list(h = 1e-3))
help(INLA)
help(inla)
names(inla.models()$likelihood)
help(inla.models()$likelihood)
help(names(inla.models()$likelihood))
help(likelihood))
help(likelihood)
mod <- inla(formula, data = Munich, verbose = T, family = "laplace",
control.family =list(alpha = 0.5, gamma = 2, epsilon = 0.01),
control.predictor = list(initial = 12),
control.inla = list(h = 1e-3))
View(Munich)
inla.get.inlaEnv(enable.model.likelihood.laplace=T)
INLA:::inla.get.inlaEnv(enable.model.likelihood.laplace=T)
library(INLA)
data(Munich)
View(Munich)
sapply(Munich,class)
a<-c(1,2,3)
as.factor(a)
a<-c("a","b","c")
as.factor(a)
as.numeric(a)
as.numeric(as.factor(a))
?plot
library(ggplot2)
ggplot(data=Munich,aes(year,rent))+geom_quantile()
ggplot(data=Munich,aes(year,rent))+geom_qq()
ggplot(data=Munich,aes(year,rent))+stat_qq()
library(rugarch)
help(rugarch)
library(dplyr)
library(INLA)
data(Munich)
arrange(Munich,year)->munich
View(munich)
as.factor(munich$year)
sapply(munich,class)
tapply(munich$rent,INDEX=list(as.factor(munich$year)),FUN=quantile(probs=c(0.25,0.5,0.75)))
tapply(munich$rent,INDEX=list(as.factor(munich$year)),FUN=quantile(probs=c(0.25,0.5,0.75)))
tapply(munich$rent,INDEX=list(year),FUN=quantile(probs=c(0.25,0.5,0.75)))
?tapply
as.factor(munich$year)->y
tapply(munich$rent,INDEX=list(y),FUN=quantile(probs=c(0.25,0.5,0.75)))
help(dplyr)
group_by(munich,year)->a
summarize(a,quantile(probs=c(0.25,0.5,0.75)))
head(a)
summarize(a,quantile(rent,probs=c(0.25,0.5,0.75)))
summarize(a,quantile(rent))
summarize(a,b=quantile(rent))
data(Munich)
group_by(Munich,year)->a
View(a)
summarize(a,mean(rent))
summarize(a,quantile(rent))
help(quantile)
summarize(a,quantile(rent,probs=o.25))
summarize(a,quantile(rent,probs=0.25))
summarize(a,q_0.25=quantile(rent,probs=0.25),q_0.5=quantile(rent,probs=0.5),q_0.75=quantile(rent,probs=0.75))
summarize(a,q_0.25=quantile(rent,probs=0.25),q_0.5=quantile(rent,probs=0.5),q_0.75=quantile(rent,probs=0.75))->dt
plot(dt$year,dt$q_0.25,type="l")
plot(dt$year,dt$q_0.25)
lines(dt$year,dt$q_0.25)
plot(dt$year,dt$q_0.5)
plot(dt$year,dt$q_0.5)
lines(dt$year,dt$q_0.5)
lines(dt$year,dt$q_0.25)
lines(dt$year,dt$q_0.75)
plot(dt$year,dt$q_0.5,ylim=c(0,12))
lines(dt$year,dt$q_0.5)
lines(dt$year,dt$q_0.25)
lines(dt$year,dt$q_0.75)
plot(dt$year,scale(dt$q_0.5),ylim=c(0,12))
plot(dt$year,scale(dt$q_0.5)
)
loess(year~scale(q_0.5),data=dt)
plot(dt$year,scale(dt$q_0.5))
lines(loess(dt$year~scale(dt$q_0.5)))
help(seq)
x <- seq(-3,3,length.out=400)
y <- 0.4*x + 0.5*sin(2.7*x) + 1.1/(1+x^2) + rnorm(400)
qnorm(0.5)
z <- 0.4*x + 0.5*sin(2.7*x) + 1.1/(1+x^2) + qnorm(0.5)
plot(x, y)
lines(x,z,type="l",color="red")
plot(x, y)
lines(x,z,type="l",col="red")
x <- seq(-3,3,length.out=400)
y <- 0.4*x + 0.5*sin(2.7*x) + 1.1/(1+x^2) + rnorm(400)
z1 <- 0.4*x + 0.5*sin(2.7*x) + 1.1/(1+x^2) + qnorm(0.1)
z2 <- 0.4*x + 0.5*sin(2.7*x) + 1.1/(1+x^2) + qnorm(0.25)
z3 <- 0.4*x + 0.5*sin(2.7*x) + 1.1/(1+x^2) + qnorm(0.5)
z4 <- 0.4*x + 0.5*sin(2.7*x) + 1.1/(1+x^2) + qnorm(0.75)
z5 <- 0.4*x + 0.5*sin(2.7*x) + 1.1/(1+x^2) + qnorm(0.9)
plot(x, y)
lines(x,z1,type="l",col="red")
lines(x,z2,type="l",col="blue")
lines(x,z3,type="l",col="yellow")
lines(x,z4,type="l",col="pink")
lines(x,z5,type="l",col="green")
c(1,2,3)*c(3,4,5)
u <- seq(0,6,length.out=400)
q <- 2 + sin(2*u/3) + 0.5*(1+(u-3)^2)*rnorm(400)
t <- c(0.1,0.25,0.5,0.75,0.9)
color <- c("red","blue","yellow","pink","green")
z <- list()
for(i in 1:5){
z[i] <- 2 + sin(2*u/3) + 0.5*(1+(u-3)^2)*qnorm(t[i])
lines(u,z[i],type="l",col=col[i])
}
z1 <- 2 + sin(2*u/3) + 0.5*(1+(u-3)^2)*qnorm(t[i])
plot(u,q)
lines(u,m1,type="l",col="red")
m1 <- 2 + sin(2*u/3) + 0.5*(1+(u-3)^2)*qnorm(t[i])
lines(u,m1,type="l",col="red")
u <- seq(0,6,length.out=400)
q <- 2 + sin(2*u/3) + 0.5*(1+(u-3)^2)*rnorm(400)
plot(u,q)
t <- c(0.1,0.25,0.5,0.75,0.9)
color <- c("red","blue","yellow","pink","green")
m <- list()
for(i in 1:5){
m[i] <- 2 + sin(2*u/3) + 0.5*(1+(u-3)^2)*qnorm(t[i])
lines(u,m1,type="l",col=color[i])
}
u <- seq(0,6,length.out=400)
q <- 2 + sin(2*u/3) + 0.5*(1+(u-3)^2)*rnorm(400)
plot(u,q)
t <- c(0.1,0.25,0.5,0.75,0.9)
color <- c("red","blue","yellow","pink","green")
m <- c()
for(i in 1:5){
m <- 2 + sin(2*u/3) + 0.5*(1+(u-3)^2)*qnorm(t[i])
lines(u,m,type="l",col=color[i])
}
par(mfrow=c(1,2))
x <- seq(-3,3,length.out=400)
y <- 0.4*x + 0.5*sin(2.7*x) + 1.1/(1+x^2) + rnorm(400)
z1 <- 0.4*x + 0.5*sin(2.7*x) + 1.1/(1+x^2) + qnorm(0.1)
z2 <- 0.4*x + 0.5*sin(2.7*x) + 1.1/(1+x^2) + qnorm(0.25)
z3 <- 0.4*x + 0.5*sin(2.7*x) + 1.1/(1+x^2) + qnorm(0.5)
z4 <- 0.4*x + 0.5*sin(2.7*x) + 1.1/(1+x^2) + qnorm(0.75)
z5 <- 0.4*x + 0.5*sin(2.7*x) + 1.1/(1+x^2) + qnorm(0.9)
plot(x, y)
lines(x,z1,type="l",col="red")
lines(x,z2,type="l",col="blue")
lines(x,z3,type="l",col="yellow")
lines(x,z4,type="l",col="pink")
lines(x,z5,type="l",col="green")
u <- seq(0,6,length.out=400)
q <- 2 + sin(2*u/3) + 0.5*(1+(u-3)^2)*rnorm(400)
plot(u,q)
t <- c(0.1,0.25,0.5,0.75,0.9)
color <- c("red","blue","yellow","pink","green")
m <- c()
for(i in 1:5){
m <- 2 + sin(2*u/3) + 0.5*(1+(u-3)^2)*qnorm(t[i])
lines(u,m,type="l",col=color[i])
}
library(INLA)
a <- data(Munich)
library(dplyr)
help(group_by)
a <- group_by(a,year) %>% summarize(.,a1=quantile(rent,probs=0.25))
library(dplyr)
a <- group_by(a,year) %>% summarize(.,a1=quantile(rent,probs=0.25))
head(a)
a <- group_by(Munich,year) %>% summarize(.,a1=quantile(rent,probs=0.25))
head(a)
dim(a)
setwd("C:/Users/hp/Desktop")
library(slidify)
author("lpx")
View(a)
$$y_{i}=0.4u_{i}+0.5/sin(2.7u_{i})+1.1/(1+u_{i}^{2}+/varepsilon_{i}),u_{i}/in [-3,3]$$
